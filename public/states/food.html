<div ng-controller="NutrientController as nutrientCtrl">

  <div ng-controller="FoodController as foodCtrl" class="container back">
    <p ng-click="foodCtrl.backToResults()">Back to results</p>
  </div>
  <p class="food-title lead text-white text-center my-4">{{ nutrientCtrl.foodName }}</p>

  <div class="container chartBox">
    <div class="row justify-content-center">

      <div ng-if="nutrientCtrl.nutrients.proximates.data.length > 0"
           class="col-md-5 mb-4 mr-2 chart">
          <div ng-if="nutrientCtrl.loaded">
            <div class="container text-center">
              <p class="lead text-white">Proximates per 100g</p>
              <my-chart id="proximates"
                data="nutrientCtrl.nutrients.proximates.data"
                chart-data="nutrientCtrl.nutrients.proximates.chartData.values"
                domain="100"
                nutrients="nutrientCtrl.nutrients.proximates.chartData.nutrients">
              </my-chart>
            </div>
          </div>
      </div>


      <div ng-if="nutrientCtrl.nutrients.minerals.data.length > 0"
           class="col-md-5 mb-4 chart">
        <div ng-if="nutrientCtrl.loaded">
          <div class="container text-center">
            <p class="lead text-white">Minerals per 100g</p>
            <my-chart id="minerals"
              data="nutrientCtrl.nutrients.minerals.data" chart-data="nutrientCtrl.nutrients.minerals.chartData.values"
              domain="2000"
              nutrients="nutrientCtrl.nutrients.minerals.chartData.nutrients">
            </my-chart>
          </div>
        </div>
      </div>
    </div>

    <div class="container text-center">
      <table ng-if="nutrientCtrl.nutrients.proximates.data.length > 0"
             class="table nutrients-table hidden-xs-down">
        <thead>
          <tr class="text-white">
            <th class="text-center" ng-repeat="nutr in nutrientCtrl.nutrients.proximates.data">{{nutr.nutrient}} ({{nutr.unit}})</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="text-center text-white" ng-repeat="value in nutrientCtrl.nutrients.proximates.chartData.values">
              {{value}}
            </th>
          </tr>
        </tbody>
      </table>

      <table ng-if="nutrientCtrl.nutrients.minerals.data.length > 0"
             class="table nutrients-table hidden-xs-down mb-4">
        <thead>
          <tr class="text-white">
            <th class="text-center" ng-repeat="nutr in nutrientCtrl.nutrients.minerals.data">{{nutr.nutrient}} ({{nutr.unit}})</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="text-center text-white" ng-repeat="value in nutrientCtrl.nutrients.minerals.chartData.values">
              {{value}}
            </th>
          </tr>
        </tbody>
      </table>

      <table ng-if="nutrientCtrl.nutrients.proximates.data.length > 0"
             class="table nutrients-table hidden-sm-up mb-4">
        <thead>
          <tr class="text-white text-center">
            <th class="text-center">Nutrient</th>
            <th class="text-center">Value per 100g</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="nutr in nutrientCtrl.nutrients.proximates.data">
            <th scope="row" class="text-center text-white">
              {{ nutr.nutrient }}
            </th>
            <td class="text-center text-white">
              {{ nutr.gm }}{{ nutr.unit }}
            </td>
          </tr>
          <tr ng-repeat="nutr in nutrientCtrl.nutrients.minerals.data">
            <th scope="row" class="text-center text-white">
              {{ nutr.nutrient }}
            </th>
            <td class="text-center text-white">
              {{ nutr.gm }}{{ nutr.unit }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
